<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Point2tent : ">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Point2tent</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/russbiggs/point2tent">View on GitHub</a>

          <h1 id="project_title">Point2tent</h1>
          <h2 id="project_tagline"></h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/russbiggs/point2tent/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/russbiggs/point2tent/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p><img src="https://cloud.githubusercontent.com/assets/8487728/9668295/f7ca92ca-523d-11e5-9f71-21a6056b6190.png" alt="point2tent overview"></p>

<h2>
<a id="overview" class="anchor" href="#overview" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>Overview</strong>
</h2>

<p>point2tent is a GDAL/OGR based module for Python to support the GIS digitizing of refugee and internally displaced persons camps and settlements. point2tent allows you to digitize tents as points and based on their type point2tent will draw the tent polygon based on the dimensions you provide, saving you time. Using shapefiles the module does not require setting up a spatial database and does not require any particular GIS. point2tent is still under early development with more functionality on the way but all functions in the master branch should be working properly.</p>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>Usage</strong>
</h2>

<p>In its current state points2tent has two main functions namely tent_defs() converts a csv file to the required format and draw_tents() creates the output shapefile.</p>

<pre><code>import point2tent as p2t
defs = p2t.tent_defs('definitions.csv')
tentpoints = 'points.shp'
p2t.draw_tents(tentpoints, defs)
</code></pre>

<h4>
<a id="tent-definitions" class="anchor" href="#tent-definitions" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>tent definitions</strong>
</h4>

<pre><code>tent_defs(input_file)
</code></pre>

<p>The tent_defs() function requires a csv in the following format:</p>

<table>
<thead>
<tr>
<th>type</th>
<th>x</th>
<th>y</th>
<th>z</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>3</td>
<td>4</td>
<td>5</td>
</tr>
</tbody>
</table>

<p>where type is a number value to be linked to the shapefile, x is the x dimension, y is the y dimension and z is the height of the tent.  All values should be in <em>metres</em>. The standard UNHCR family tent is automatically included as an option and referenced as type 99. This function will return a list of dictionaries that can be used in the draw_tents() function.</p>

<p>For more advanced users, complex tent/structures polygons can be constructed using a simple python dictionary formatting as follows:</p>

<pre><code>{'type':'9','z':'3','def':[(x1,y1),(x2,y2),(x3,y3)...]}
</code></pre>

<p>where  'z' is the height of the tent in metres and 'def' is a list of vertices in metres with an origin of 0,0 and starting from the bottom left and going anti-clockwise. e.g. UNHCR family tent:</p>

<pre><code>{'type':'99', 'z':'2.2', 'def':[(2, -2), (3.3, -0.7), (3.3, 0.7), (2, 2), (-2, 2), (-3.3, 0.7), (-3.3, -0.7), (-2, -2)]}
</code></pre>

<p><img src="https://cloud.githubusercontent.com/assets/8487728/9671053/54653378-524d-11e5-92fb-2c9f9a87d5ea.png" alt="unhcr_vertice"></p>

<h4>
<a id="draw-tents" class="anchor" href="#draw-tents" aria-hidden="true"><span class="octicon octicon-link"></span></a><strong>draw tents</strong>
</h4>

<pre><code>draw_tents(input_file, tent_defns, output_file = None)
</code></pre>

<p>The input shapefile requires the following columns: id, type, and angle. The input must be projected with the units in <em>metres</em> e.g. a UTM projection. All the attributes of the input shapefile will not persist to the output so it is recommended to join tent attributes after the polygons have been created.  </p>

<p>This example below uses the points provided by a <a href="http://www.unitar.org/unosat/node/44/1714?utm_source=unosat-unitar&amp;utm_medium=rss&amp;utm_campaign=maps">UNOSAT analysis of Zataari Camp in Jordan </a>and  coverts the points to UNHCR family tent polygons oriented in the given block orientation:</p>

<h5>
<a id="points" class="anchor" href="#points" aria-hidden="true"><span class="octicon octicon-link"></span></a>points</h5>

<p><img src="https://cloud.githubusercontent.com/assets/8487728/9668858/33385bf0-5241-11e5-8c49-a392be9e8a1d.png"></p>

<h5>
<a id="polygons" class="anchor" href="#polygons" aria-hidden="true"><span class="octicon octicon-link"></span></a>polygons</h5>

<p><img src="https://cloud.githubusercontent.com/assets/8487728/9668871/34ff4d72-5241-11e5-9d17-c64511c2f885.png"></p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Point2tent maintained by <a href="https://github.com/russbiggs">russbiggs</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-67171404-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
